<!DOCTYPE html>
<html lang="my">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>VPN Key Generator â€” Login</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { min-height:100vh; margin:0; font-family:Inter, ui-sans-serif, system-ui; background: linear-gradient(135deg,#667eea 0%,#764ba2 50%,#f093fb 100%); }
  .center { display:flex; align-items:center; justify-content:center; min-height:100vh; padding:1rem; }
  .card { width:100%; max-width:880px; border-radius:20px; background:rgba(255,255,255,0.95); box-shadow:0 20px 60px rgba(0,0,0,0.15); padding:1.5rem; }
  #loginOverlay { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,0.5); z-index:50; }
  #loginBox { width:100%; max-width:400px; background:white; padding:1.5rem; border-radius:12px; box-shadow:0 8px 30px rgba(0,0,0,0.25); }
  .error { color:#b91c1c; font-weight:600; font-size:0.9rem; }
  .hidden { display:none; }
</style>
</head>
<body class="lock-scroll">

<!-- LOGIN OVERLAY -->
<div id="loginOverlay">
  <div id="loginBox">
    <h2 style="font-size:1.25rem;font-weight:700;margin-bottom:.25rem;">ğŸ”’ á€œá€±á€¬á€·á€‚á€ºá€¡á€„á€º</h2>
    <p style="color:#555;font-size:0.9rem;margin-bottom:0.75rem;">VPN Key Generator á€€á€­á€¯ á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€›á€”á€º Username á€”á€²á€· Password á€‘á€Šá€·á€ºá€•á€«á‹</p>

    <label style="color:#555;font-size:0.9rem;">Username</label>
    <input id="li-username" type="text" placeholder="á€á€„á€·á€ºá€”á€¬á€™á€Šá€º..." style="width:100%;padding:.6rem;border-radius:8px;border:1px solid #ccc;margin-bottom:.6rem;" />

    <label style="color:#555;font-size:0.9rem;">Password</label>
    <input id="li-password" type="password" placeholder="Password" style="width:100%;padding:.6rem;border-radius:8px;border:1px solid #ccc;margin-bottom:.6rem;" />

    <div id="loginError" class="error hidden">Password á€™á€™á€¾á€”á€ºá€•á€« â€” á€‘á€•á€ºá€…á€™á€ºá€¸á€•á€«á‹</div>

    <button id="loginBtn" style="width:100%;padding:.7rem;border-radius:8px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-weight:700;border:0;cursor:pointer;">á€á€„á€ºá€™á€šá€º</button>
  </div>
</div>

<!-- MAIN APP -->
<div class="center">
  <div id="mainCard" class="card hidden">
    <div style="text-align:center;margin-bottom:1rem;">
      <div style="font-size:48px;">ğŸš€</div>
      <h1 style="font-size:1.5rem;font-weight:800;color:#1f2937;">VPN Key Generator</h1>
      <p style="color:#666;">Skylinkvpnchannel á€™á€¾ á€–á€”á€ºá€á€®á€¸á€‘á€¬á€¸á€á€Šá€ºá‹</p>
    </div>

    <div style="display:grid;grid-template-columns:1fr 1fr;gap:0.75rem;margin-bottom:0.75rem;">
      <input id="username" type="text" placeholder="Username á€‘á€Šá€·á€ºá€•á€«..." style="width:100%;padding:.7rem;border-radius:10px;border:1px solid #ccc;" />
      <select id="vpnType" style="padding:.7rem;border-radius:10px;border:1px solid #ccc;">
        <option value="shadowsocks">âš¡ Shadowsocks</option>
        <option value="starlink">ğŸ›°ï¸ Starlink (VLESS)</option>
      </select>
    </div>

    <button id="generateBtn" style="width:100%;padding:.75rem;border-radius:12px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;font-weight:700;border:0;cursor:pointer;margin-bottom:.75rem;">
      ğŸš€ VPN Key á€–á€”á€ºá€á€®á€¸á€•á€«
    </button>

    <div id="keyArea" class="hidden" style="background:#f9fafb;padding:.75rem;border-radius:12px;border:1px solid #ddd;">
      <label style="display:block;font-weight:700;margin-bottom:.4rem;">ğŸ”‘ á€–á€”á€ºá€á€®á€¸á€‘á€¬á€¸á€á€²á€· VPN Key</label>
      <textarea id="generatedKey" rows="3" readonly style="width:100%;border-radius:8px;border:1px solid #ccc;padding:.6rem;font-family:monospace;"></textarea>
      <div style="display:flex;gap:.5rem;margin-top:.55rem;">
        <button id="copyBtn" style="flex:1;padding:.6rem;border-radius:10px;border:0;background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff;font-weight:700;cursor:pointer;">ğŸ“‹ Copy Key</button>
        <button id="logoutBtn" style="padding:.6rem;border-radius:10px;border:1px solid #ccc;background:#fff;font-weight:700;cursor:pointer;">ğŸ”“ Logout</button>
      </div>
      <div id="copiedMsg" class="hidden" style="color:#28a745;margin-top:.5rem;">âœ… Copied to clipboard.</div>
    </div>
  </div>
</div>

<script>
  // Updated Password
  const DEMO_PASSWORD = 'Skylink@admin';

  const overlay = document.getElementById('loginOverlay');
  const loginBtn = document.getElementById('loginBtn');
  const loginError = document.getElementById('loginError');
  const liUsername = document.getElementById('li-username');
  const liPassword = document.getElementById('li-password');
  const mainCard = document.getElementById('mainCard');

  function showError(msg) {
    loginError.textContent = msg;
    loginError.classList.remove('hidden');
    setTimeout(() => loginError.classList.add('hidden'), 3000);
  }

  function attemptLogin() {
    const u = liUsername.value.trim();
    const p = liPassword.value;
    if (!u) return showError('Username á€‘á€Šá€·á€ºá€•á€«á‹');
    if (p === DEMO_PASSWORD) {
      overlay.style.display = 'none';
      mainCard.classList.remove('hidden');
      document.body.classList.remove('lock-scroll');
    } else {
      showError('Password á€™á€™á€¾á€”á€ºá€•á€« â€” á€‘á€•á€ºá€…á€™á€ºá€¸á€•á€«á‹');
    }
  }

  loginBtn.addEventListener('click', attemptLogin);
  liPassword.addEventListener('keypress', e => { if (e.key === 'Enter') attemptLogin(); });

  // VPN generator logic
  const generateBtn = document.getElementById('generateBtn');
  const vpnTypeSelect = document.getElementById('vpnType');
  const generatedKeyEl = document.getElementById('generatedKey');
  const keyArea = document.getElementById('keyArea');
  const copyBtn = document.getElementById('copyBtn');
  const copiedMsg = document.getElementById('copiedMsg');
  const logoutBtn = document.getElementById('logoutBtn');

  function formatDate() {
    const d = new Date();
    return `${String(d.getDate()).padStart(2,'0')}-${String(d.getMonth()+1).padStart(2,'0')}-${d.getFullYear()}`;
  }

  generateBtn.addEventListener('click', () => {
    const u = document.getElementById('username').value.trim();
    if (!u) return alert('Username á€‘á€Šá€·á€ºá€•á€«á‹');
    const t = vpnTypeSelect.value;
    let vpnKey = '';
    const date = formatDate();

    if (t === 'shadowsocks') {
      vpnKey = `ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNTpBQTF4d1JENVNwOExvTEwydVZFUFhoNlRYYXM1WnRzbzd0UVo4VVVUYmxvPQ@159.223.66.202:36847?type=tcp#ğŸ’SkylinkFree-ğŸ’${u}-ğŸ’${date}`;
    } else {
      vpnKey = `vless://8343c85d-0193-47fe-836d-53db4e38d726@13.228.144.120:8080/?type=ws&path=%2Fskylinkvpnchannel&host=portal-as.ruijienetworks.com&security=none#ğŸ’StarlinkFree-ğŸ’${u}-ğŸ’${date}`;
    }

    generatedKeyEl.value = vpnKey;
    keyArea.classList.remove('hidden');
  });

  copyBtn.addEventListener('click', async () => {
    await navigator.clipboard.writeText(generatedKeyEl.value);
    copiedMsg.classList.remove('hidden');
    setTimeout(() => copiedMsg.classList.add('hidden'), 2000);
  });

  logoutBtn.addEventListener('click', () => location.reload());
</script>
</body>
</html>
